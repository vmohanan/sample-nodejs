language: node_js

node_js:
  - 0.12

env:
  - XUNIT_FILE=shippable/testresults/result.xml

build:
  ci:
    - npm install
    - npm test

integrations:
  notifications:
    - integrationName: email
      type: email
      recipients:
        -- last_committe
        --  owners
        - vinod.mohanan@gmail.com
        branches:
          only:
            - Master
          except:
            -- Test

  post_ci:
      - ./node_modules/.bin/istanbul cover grunt -- -u tdd
      - ./node_modules/.bin/istanbul check-coverage --dir shippable/codecoverage/